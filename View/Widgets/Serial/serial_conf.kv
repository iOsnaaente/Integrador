#
# Serial config 
<SerialConfiguration@MDCard>: 
    connection_icon: connection_icon 
    connection_label: connection_label 
    connection_button: connection_button
    connection_keep: connection_keep

    comport_label: comport_label
    comport_icon: comport_icon

    baudrate_label: baudrate_label
    baudrate_icon: baudrate_icon

    timeout_label: timeout_label
    timeout_icon: timeout_icon

    refresh: refresh

    orientation: 'vertical'
    padding: dp(20) 

    MDBoxLayout: 
        orientation: 'vertical'
        size_hint: 1, 0.85
        padding: dp(10)
        spacing: dp(10) 
        #
        # Configurações Seriais 
        MDLabel: 
            text: 'Configurações seriais'
            size_hint: 1, 0.1
            font_style: 'H3'
            font_size: 18
            bold: True 
            halign: 'center'
        # 
        # Serial configuration content
        MDCard:
            orientation: 'vertical'
            md_bg_color: [0.25,0.25,0.25,0.5]
            padding: 10
            spacing: 10 
            MDGridLayout:
                cols: 2 
                size_hint: 1, 0.75
                radius: self.parent.radius
                padding: 10 
                #
                # Serial comport
                MDLabel:
                    size_hint_x: 0.3
                    text: 'Comport'
                    font_size: sp(12)
                    bold: True
                MDBoxLayout:
                    size_hint_x: 0.7
                    orientation: 'horizontal'
                    MDCard:
                        # items: ['COMP3', 'COMP4', 'COMP5', 'COMP10', 'COMP15']
                        size_hint: 0.75, 0.5
                        pos_hint: {'center_x': 0.50,'center_y': 0.50}    
                        orientation: 'horizontal'
                        md_bg_color: app.theme_cls.primary_color
                        MDLabel:
                            id: comport_label 
                            size_hint: 0.8, 1
                            pos_hint: {"center_x": .5, "center_y": .5}
                            md_bg_color: [0,0,0,0]
                            text: "Comport"
                            font_size: sp(14)
                        MDIconButton:
                            id: comport_icon 
                            icon:'chevron-down'
                            size_hint: 0.2, 1
                            pos_hint: {'center_x': 0.50,'center_y': 0.50}
                    MDIconButton: 
                        id: refresh
                        icon: 'refresh-circle'
                        pos_hint: {'center_x': 0.50,'center_y': 0.50}
                        # on_release: root.att_comport() 
                #
                # Serial Baudrate
                MDLabel:
                    size_hint_x: 0.25
                    font_size: sp(12)
                    text: 'Baudrate'
                    bold: True
                MDBoxLayout:
                    size_hint_x: 0.75
                    MDCard:
                        # items: ['9600', '19200', '57600', '115200']
                        size_hint: 0.75, 0.5
                        pos_hint: {'center_x': 0.50,'center_y': 0.50}    
                        orientation: 'horizontal'
                        md_bg_color: app.theme_cls.primary_color
                        MDLabel:
                            id: baudrate_label
                            size_hint: 0.8, 1
                            pos_hint: {"center_x": .5, "center_y": .5}
                            md_bg_color: [0,0,0,0]
                            text: "Baudrate"
                            font_size: sp(14)
                        MDIconButton:
                            id: baudrate_icon
                            icon:'chevron-down'
                            size_hint: 0.2, 1
                            pos_hint: {'center_x': 0.50,'center_y': 0.50}

                #
                # Serial Timeout
                MDLabel:
                    size_hint_x: 0.25
                    font_size: sp(12)
                    text: 'Timeout'
                    bold: True
                MDBoxLayout:
                    size_hint_x: 0.75
                    MDCard:
                        # items: [0.1, 1, 10, None ]
                        size_hint: 0.75, 0.5
                        pos_hint: {'center_x': 0.50,'center_y': 0.50}    
                        orientation: 'horizontal'
                        md_bg_color: app.theme_cls.primary_color
                        MDLabel:
                            id: timeout_label 
                            size_hint: 0.8, 1
                            md_bg_color: [0,0,0,0]
                            pos_hint: {"center_x": .5, "center_y": .5}
                            text: "Timeout"
                            font_size: sp(14)
                        MDIconButton:
                            id: timeout_icon 
                            icon:'chevron-down'
                            size_hint: 0.2, 1
                            pos_hint: {'center_x': 0.50,'center_y': 0.50}
            #
            # Iniciar a conexão serial 
            MDFlatButton:
                id: connection_button
                size_hint: 1, 0.15
                md_bg_color: 'green'
                radius: sp(10)
                text: 'Iniciar conexão' 
    #
    # Serial Status connection 
    MDGridLayout:
        size_hint: 1, 0.15
        radius: self.parent.radius 
        cols: 2 
        padding: 5
        spacing: 5 
        MDCheckbox:
            id: connection_keep
            active: True
            # checkbox_icon_normal: "close"
            checkbox_icon_down: "check"
            size_hint_x: 0.1
            pos_hint: {'center_x': 0.50,'center_y': 0.50}
            elevation: 3
        MDLabel:
            id: connection_label 
            text: 'Keep connection state'
        MDIconButton:
            id: connection_icon
            icon: 'circle'
            theme_icon_color: "Custom"
            icon_color: 'red'
            size_hint: 0.2, 0.5
            pos_hint: {'center_x': 0.50,'center_y': 0.50}
            elevation: 3
        MDLabel:
            id: connection_label 
            size_hint: 0.8, 0.5
            text: 'Serial disconnected'