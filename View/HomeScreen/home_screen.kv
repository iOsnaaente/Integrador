
#
# Main Screen
#
<HomeScreenView>
    on_enter: progress_relative.current_percent = 20

    MDFloatLayout:
        id: box_content 
        size_hint: 1, 1

        MDBoxLayout: 
            size_hint: 1, 1 
            pos_hint: {'x': 0.0,'y': 0.0}
            padding: 100, 200, 5, 5 
            md_bg_color: 'gray'
            FitImage: 
                id: background_image 
    
        MDBoxLayout:
            size_hint: 1, 1 
            pos_hint: {'x': 0.0,'y': 0.0}
            md_bg_color: [0.5, 0.5, 0.5, 0.9]
            orientation: 'vertical'
            padding: 110, 10, 10, 10 
            spacing: 5
            
            MDBoxLayout: 
                spacing: self.parent.spacing
                size_hint: 1, 0.5
                #
                # Sistema 
                MDCard: 
                    size_hint: 0.25, 1
                    orientation: 'vertical'
                    radius: 5
                    MDBoxLayout:
                        size_hint: 1, 0.1
                        md_bg_color: [226/255, 141/255, 0, 1 ]
                        padding: 10 
                        radius: 5, 5, 0, 0
                        MDLabel:
                            text: 'Visualização do Sistema'
                            color: 'white'
                            bold: True 
                            elevation: 2
                        MDIconButton:
                            icon: 'weather-sunny'
                            size_hint: 0.1, 1
                    MDBoxLayout:
                        id: system_content
                        size_hint: 1, 0.9
                        radius: [0,0,10,10]
                #
                # Mapa loc
                MDCard:
                    size_hint: 0.25, 1
                    orientation: 'vertical'
                    MDBoxLayout:
                        size_hint: 1, 0.1
                        md_bg_color: [226/255, 141/255, 0, 1 ]
                        padding: 10 
                        radius: 5, 5, 0, 0
                        MDLabel:
                            text: 'Mapa'
                            color: 'white'
                            bold: True 
                            elevation: 2
                        MDIconButton:
                            icon: 'earth'
                            size_hint: 0.1, 1
                    MDBoxLayout:
                        id: map_content
                        size_hint: 1, 0.9
                        radius: [0,0,10,10]
                
                #
                # Posição dos motores 
                MDCard: 
                    size_hint: 0.5, 1              
                    orientation: 'vertical'
                    MDBoxLayout:
                        size_hint: 1, 0.1
                        md_bg_color: [226/255, 141/255, 0, 1 ]
                        padding: 10 
                        radius: 5, 5, 0, 0
                        MDLabel:
                            text: 'Posição dos motores'
                            color: 'white'
                            bold: True 
                            elevation: 2
                        MDIconButton:
                            icon: 'engine'
                            size_hint: 0.1, 1
                    MDBoxLayout:
                        id: motors_content
                        size_hint: 1, 0.9
                        radius: [0,0,10,10]
                        MDCard: 
                            id: azimute_content
                            size_hint: 0.5, 1
                            radius: 5
                        MDCard: 
                            id: zenite_content
                            size_hint: 0.5, 1
                            radius: 5
            #
            # Geração / Histórico de geração  
            MDBoxLayout:
                spacing: self.parent.spacing
                size_hint: 1, 0.5
                #
                # Geração solar 
                MDCard: 
                    size_hint: 0.25, 1
                    orientation: 'vertical'
                    MDBoxLayout:
                        size_hint: 1, 0.1
                        md_bg_color: [226/255, 141/255, 0, 1 ]
                        padding: 10 
                        radius: 5, 5, 0, 0
                        MDLabel:
                            text: 'Geração'
                            color: 'white'
                            bold: True 
                            elevation: 2
                        MDIconButton:
                            icon: 'solar-power'
                            size_hint: 0.1, 1
                    MDBoxLayout:
                        id: power_content
                        size_hint: 1, 0.9
                        radius: [0,0,10,10]                        
                        AKCircularProgress:
                            id: progress_relative
                            pos_hint: {"center_x": .5, "center_y": .5}
                            size_hint: None, None
                            size: dp(100), dp(100)
                            percent_type: "percent"
                            start_deg: 240
                            end_deg: 480
                            percent_type: "relative"
                            line_width: 6
                            background_circle_color: [1,1,1,1]
                            background_line_width: 5
                            max_percent: 25
                #
                # Histórico de geração 
                MDCard:
                    size_hint: 0.75, 1
                    orientation: 'vertical'
                    MDBoxLayout:
                        size_hint: 1, 0.1
                        md_bg_color: [226/255, 141/255, 0, 1 ]
                        padding: 10 
                        radius: 5, 5, 0, 0
                        MDLabel:
                            text: 'Histórico de geração'
                            color: 'white'
                            bold: True 
                            elevation: 2
                        MDIconButton:
                            icon: 'chart-line-variant'
                            size_hint: 0.1, 1
                    MDBoxLayout:
                        id: log_content
                        size_hint: 1, 0.9
                        radius: [0,0,10,10]

                # MDRaisedButton: on_release: progress_relative.current_percent = 0

            # Graph:
            #     size_hint: 0.5, 1
            #     pos_hint: {'center_x': 0.5,'top': 1 }
            #     md_bg_color: 'gray'
            #     orientation: 'vertical'
            # Graph:                       
            #     size_hint: 0.5, 1
            #     pos_hint: {'center_x': 0.5,'top': 1 }
            #     md_bg_color: 'gray'
            #     orientation: 'vertical'